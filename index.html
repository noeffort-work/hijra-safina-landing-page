<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="description"
    content="Safina is an AI-powered expense tracking app for modern Muslims. Track expenses, get Islamic finance guidance, and manage family budgets." />
  <link rel="icon" href="/favicon.ico" sizes="32x32" />
  <link rel="icon" href="/icon.svg" type="image/svg+xml" />
  <link rel="apple-touch-icon" href="/apple-touch-icon.png" />
  <link rel="manifest" href="/manifest.webmanifest" />
  <link href="./output.css" rel="stylesheet" />
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;700&display=swap" rel="stylesheet" />
  <title>Safina - AI Expense Tracking for Modern Muslims</title>

  <script type="module" src="./side-effects/auto-replace-analysis-app-href.mjs" defer></script>
</head>

<body class="font-inter bg-gray-50">
  <nav class="sticky top-0 bg-gray-50 z-50">
    <div class="max-w-7xl mx-auto grid grid-cols-3 items-center px-4 py-4">
      <img src="./assets/logo/logo-text.png" class="h-10 w-auto" alt="Safina Logo" />

      <div class="hidden md:flex items-center justify-center gap-6">
        <a href="#features"
          class="hover:text-gray-800 text-gray-600 hover:bg-gray-100 rounded-md px-2 py-1 hover:font-medium"
          data-translate-key="nav_features">Features</a>
        <a href="#faq"
          class="hover:text-gray-800 text-gray-600 hover:bg-gray-100 rounded-md px-2 py-1 hover:font-medium"
          data-translate-key="nav_faq">FAQ</a>
        <a href="#contact"
          class="hover:text-gray-800 text-gray-600 hover:bg-gray-100 rounded-md px-2 py-1 hover:font-medium"
          data-translate-key="nav_contact">Contact</a>
      </div>

      <div class="hidden md:flex items-center justify-end gap-2">
        <div class="relative" id="lang-switcher">
          <button id="lang-btn" class="flex items-center gap-2 hover:bg-gray-100 rounded-md px-3 py-2">
            <i data-lucide="globe" class="size-4.5 text-gray-600"></i>
            <span id="lang-text" class="font-medium text-gray-600">EN</span>
            <i data-lucide="chevron-down" class="size-3.5 text-gray-600"></i>
          </button>
          <div id="lang-menu"
            class="hidden absolute right-0 mt-2 w-36 bg-white rounded-md shadow-lg border border-gray-100">
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-lang="en">English (EN)</a>
            <a href="#" class="block px-4 py-2 text-sm text-gray-700 hover:bg-gray-100" data-lang="id">Indonesia
              (ID)</a>
          </div>
        </div>

        <a href="https://app.safinalab.id/"
          class="bg-brand-500 text-white px-5 py-2 rounded-md font-semibold hover:bg-brand-600"
          data-translate-key="login_button">
          Login
        </a>
      </div>

      <button id="menu-btn" class="md:hidden justify-self-end" aria-label="Open menu">
        <svg class="w-7 h-7" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" d="M4 6h16M4 12h16M4 18h16" />
        </svg>
      </button>
    </div>

    <div id="mobile-menu" class="hidden md:hidden flex flex-col gap-4 px-6 py-4 bg-gray-50">
      <a href="#features" class="text-gray-800" data-translate-key="nav_features_mob">Features</a>
      <a href="#faq" class="text-gray-800" data-translate-key="nav_faq_mob">FAQ</a>
      <a href="#contact" class="text-gray-800" data-translate-key="nav_contact_mob">Contact</a>
      <a href="https://app.safinalab.id/" class="bg-brand-500 text-white text-center px-4 py-2 rounded-md"
        data-translate-key="login_button_mob">Login</a>
    </div>
  </nav>

  <section id="hero" class="px-4 sm:px-6 mt-12 text-center">
    <div class="max-w-3xl mx-auto space-y-6">
      <span class="w-fit mx-auto flex bg-brand-50 gap-2 text-brand-600 px-3 py-1 rounded-md font-medium items-center">
        <i data-lucide="sparkles" class="size-4.5 text-brand-600"></i>
        <span data-translate-key="hero_badge">AI Powered</span>
      </span>
      <h1 class="text-3xl sm:text-4xl lg:text-5xl font-medium leading-tight tracking-tighter">
        <span data-translate-key="hero_title_part1">AI-powered expense tracking for</span>
        <span class="bg-brand-100 text-brand-600 px-2 rounded-lg leading-tight font-semibold">
          <span id="typing-effect"></span><span class="blinking-cursor">|</span>
        </span>
        <span data-translate-key="hero_title_part2"></span>
      </h1>
      <p class="text-gray-600 text-base sm:text-lg" data-translate-key="hero_subtitle">
        Track your daily expenses with AI, get Islamic finance guidance, and manage family budgets all in one app. Log
        transactions via WhatsApp or directly in the app.
      </p>
      <a href="https://app.safinalab.id/"
        class="inline-block bg-brand-500 text-white px-6 py-3 rounded-md font-semibold hover:bg-brand-600"
        data-translate-key="hero_cta">
        Get Started
      </a>

      <div class="mt-10">
        <img src="./assets/dashboard-preview.png" alt="Safina Dashboard" class="w-full rounded-xl shadow" />
      </div>
    </div>
  </section>

  <section id="features" class="py-12">
    <div class="max-w-6xl mx-auto text-center space-y-6">
      <span class="w-fit mx-auto flex bg-brand-50 gap-2 text-brand-600 px-3 py-1 rounded-md font-medium items-center">
        <i data-lucide="pencil-ruler" class="size-4.5 text-brand-600"></i>
        <span data-translate-key="features_badge">Features</span>
      </span>
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-medium leading-tight tracking-tighter">
        <span data-translate-key="features_title_part1">Everything you need <br />
          to manage your
        </span>
        <span class="bg-brand-100 text-brand-600 px-2 rounded-lg font-semibold">
          <span id="typing-effect-features"></span><span class="blinking-cursor">|</span>
        </span>
      </h2>
      <p class="text-gray-600 max-w-2xl mx-auto" data-translate-key="features_subtitle">
        From AI-powered tracking to Islamic finance guidance, every feature is built to help you manage your finances
        wisely.
      </p>
    </div>
    <div class="mt-12 mx-auto max-w-6xl px-4">
      <div class="flex flex-col-reverse md:flex-row gap-8 items-start">
        <div class="w-full">
          <ul class="space-y-3">
            <li class="feature-item flex gap-3 p-4 rounded-xl hover:bg-gray-100 cursor-pointer transition"
              data-image="/assets/aisummary.png" role="button" tabindex="0" aria-selected="true">
              <div class="flex-shrink-0 self-start">
                <i data-lucide="sparkles" class="icon size-7.5 text-brand-800"></i>
              </div>
              <div class="flex-1">
                <div class="title text-lg font-semibold" data-translate-key="feature_ai_title">AI Expense Tracking</div>
                <p class="desc mt-2 text-gray-600" data-translate-key="feature_ai_desc">
                  Let AI categorize and analyze your transactions. Scan receipts, auto-categorize expenses, and get
                  smart spending insights.
                </p>
              </div>
            </li>
            <li class="feature-item flex gap-3 p-4 rounded-xl hover:bg-gray-100 cursor-pointer transition"
              data-image="/assets/dashboard.png" role="button" tabindex="0" aria-selected="false">
              <div class="flex-shrink-0 self-start">
                <i data-lucide="heart-handshake" class="icon size-7.5 text-brand-800"></i>
              </div>
              <div class="flex-1">
                <div class="title text-lg" data-translate-key="feature_islamic_title">Islamic Finance Guidance</div>
                <p class="desc mt-2 text-gray-600" data-translate-key="feature_islamic_desc">
                  Receive Shariah-compliant financial recommendations to help your spending align with Islamic
                  principles.
                </p>
              </div>
            </li>
            <li class="feature-item flex gap-3 p-4 rounded-xl hover:bg-gray-100 cursor-pointer transition"
              data-image="/assets/managedata.png" role="button" tabindex="0" aria-selected="false">
              <div class="flex-shrink-0 self-start">
                <i data-lucide="message-circle-more" class="icon size-7.5 text-brand-800"></i>
              </div>
              <div class="flex-1">
                <div class="title text-lg" data-translate-key="feature_whatsapp_title">WhatsApp Integration</div>
                <p class="desc mt-2 text-gray-600" data-translate-key="feature_whatsapp_desc">
                  Log transactions by simply sending a message to your WhatsApp group. Quick, easy, and accessible.
                </p>
              </div>
            </li>
            <li class="feature-item flex gap-3 p-4 rounded-xl hover:bg-gray-100 cursor-pointer transition"
              data-image="/assets/image-data.png" role="button" tabindex="0" aria-selected="false">
              <div class="flex-shrink-0 self-start">
                <i data-lucide="users" class="icon size-7.5 text-brand-800"></i>
              </div>
              <div class="flex-1">
                <div class="title text-lg" data-translate-key="feature_group_title">Group & Family Tracking</div>
                <p class="desc mt-2 text-gray-600" data-translate-key="feature_group_desc">
                  Collaborate with family members to track household expenses. Everyone stays informed with shared
                  spending reports.
                </p>
              </div>
            </li>
          </ul>
        </div>

        <div class="w-full p-1.5 bg-gray-100 rounded-xl">
          <img id="featureImage" src="/assets/aisummary.png" alt="Feature preview"
            class="max-h-full w-full object-contain transition-opacity duration-300" />
        </div>
      </div>
    </div>
  </section>

  <section id="faq" class="px-4 sm:px-6 py-20 bg-gray-50">
    <div class="max-w-5xl mx-auto text-center space-y-6">
      <span class="w-fit mx-auto flex bg-brand-50 gap-2 text-brand-600 px-3 py-1 rounded-md font-medium items-center">
        <i data-lucide="circle-question-mark" class="size-4.5 text-brand-600"></i>
        <span data-translate-key="faq_badge">FAQ</span>
      </span>
      <h2 class="text-2xl sm:text-3xl lg:text-4xl font-medium tracking-tighter" data-translate-key="faq_title">
        Frequently Asked Questions
      </h2>
      <p class="text-gray-600" data-translate-key="faq_subtitle">
        Quick answers to help you get started with Safina.
      </p>
    </div>

    <div class="mt-10 grid gap-6 sm:grid-cols-2 max-w-5xl mx-auto">
      <div class="bg-gray-100 border border-gray-100 rounded-xl h-fit">
        <div class="flex p-3 bg-gray-50 rounded-xl cursor-pointer justify-between items-center accordion-header">
          <div class="heading text-xl tracking-tight font-semibold w-full" data-translate-key="faq_q1">
            How does AI expense tracking work?
          </div>
          <i data-lucide="chevron-down" class="arrow size-3.5 text-brand-600"></i>
        </div>
        <p class="answer p-3 text-sm text-gray-600 hidden" data-translate-key="faq_a1">
          Our AI automatically categorizes your transactions, scans receipts, and provides spending insights. Just log
          your expenses via the app or WhatsApp, and the AI handles the rest.
        </p>
      </div>
      <div class="bg-gray-100 border border-gray-100 rounded-xl h-fit">
        <div class="flex p-3 bg-gray-50 rounded-xl cursor-pointer justify-between items-center accordion-header">
          <div class="heading text-xl tracking-tight font-semibold w-full" data-translate-key="faq_q2">
            What is Islamic finance guidance?
          </div>
          <i data-lucide="chevron-down" class="arrow size-3.5 text-brand-600"></i>
        </div>
        <p class="answer p-3 text-sm text-gray-600 hidden" data-translate-key="faq_a2">
          Safina provides Shariah-compliant recommendations for your expenses, helping you make financial decisions that
          align with Islamic principles.
        </p>
      </div>
      <div class="bg-gray-100 border border-gray-100 rounded-xl h-fit">
        <div class="flex p-3 bg-gray-50 rounded-xl cursor-pointer justify-between items-center accordion-header">
          <div class="heading text-xl tracking-tight font-semibold w-full" data-translate-key="faq_q3">
            How does WhatsApp integration work?
          </div>
          <i data-lucide="chevron-down" class="arrow size-3.5 text-brand-600"></i>
        </div>
        <p class="answer p-3 text-sm text-gray-600 hidden" data-translate-key="faq_a3">
          You can log transactions by sending messages to your connected WhatsApp group. Simply type your expense, and
          Safina's AI will parse and record it automatically.
        </p>
      </div>
      <div class="bg-gray-100 border border-gray-100 rounded-xl h-fit">
        <div class="flex p-3 bg-gray-50 rounded-xl cursor-pointer justify-between items-center accordion-header">
          <div class="heading text-xl tracking-tight font-semibold w-full" data-translate-key="faq_q4">
            Can I track expenses with my family?
          </div>
          <i data-lucide="chevron-down" class="arrow size-3.5 text-brand-600"></i>
        </div>
        <p class="answer p-3 text-sm text-gray-600 hidden" data-translate-key="faq_a4">
          Yes! Create a shared group to track household expenses together. Family members can log transactions and view
          shared spending reports.
        </p>
      </div>
      <div class="bg-gray-100 border border-gray-100 rounded-xl h-fit">
        <div class="flex p-3 bg-gray-50 rounded-xl cursor-pointer justify-between items-center accordion-header">
          <div class="heading text-xl tracking-tight font-semibold w-full" data-translate-key="faq_q5">
            Is my financial data secure?
          </div>
          <i data-lucide="chevron-down" class="arrow size-3.5 text-brand-600"></i>
        </div>
        <p class="answer p-3 text-sm text-gray-600 hidden" data-translate-key="faq_a5">
          Absolutely. All your data is encrypted and stored securely. Only you and authorized family members can access
          your information.
        </p>
      </div>
      <div class="bg-gray-100 border border-gray-100 rounded-xl h-fit">
        <div class="flex p-3 bg-gray-50 rounded-xl cursor-pointer justify-between items-center accordion-header">
          <div class="heading text-xl tracking-tight font-semibold w-full" data-translate-key="faq_q6">
            What languages does Safina support?
          </div>
          <i data-lucide="chevron-down" class="arrow size-3.5 text-brand-600"></i>
        </div>
        <p class="answer p-3 text-sm text-gray-600 hidden" data-translate-key="faq_a6">
          Safina fully supports both English and Bahasa Indonesia, including AI categorization in both languages.
        </p>
      </div>
    </div>
  </section>

  <footer id="contact" class="bg-brand-500 bg-center bg-no-repeat text-white py-10">
    <div class="max-w-6xl mx-auto px-4 sm:px-6 flex flex-col md:flex-row justify-between items-center gap-6">
      <div class="space-y-2 text-center md:text-left">
        <img src="./assets/logo/logo-text.png" alt="Safina Logo" class="h-10 w-auto brightness-0 invert">
        <p class="text-4xl tracking-tighter font-light">
          contact@safinalab.id
        </p>
        <p class="mt-10 text-gray-200" data-translate-key="footer_copyright">
          © 2025 <a href="/" class="underline">safinalab.id</a> All Rights Reserved
        </p>
      </div>
    </div>
  </footer>

  <script>
    const menuBtn = document.getElementById("menu-btn");
    const menu = document.getElementById("mobile-menu");

    menuBtn.addEventListener("click", () => {
      menu.classList.toggle("hidden");
    });
  </script>
  <script>
    const accordionHeaders = document.querySelectorAll(".accordion-header");

    accordionHeaders.forEach((header) => {
      header.addEventListener("click", () => {
        const answer = header.nextElementSibling;
        const arrow = header.querySelector(".arrow");
        answer.classList.toggle("hidden");
        arrow.classList.toggle("rotate-180");
      });
    });
  </script>
  <script>
    const featureItems = document.querySelectorAll(".feature-item");
    const featureImg = document.getElementById("featureImage");

    function activateFeature(item) {
      featureItems.forEach((i) => {
        i.classList.remove("bg-gray-100");
        i.setAttribute("aria-selected", "false");
        const d = i.querySelector(".desc");
        if (d) d.classList.add("hidden");
        const t = i.querySelector(".title");
        if (t) t.classList.remove("font-semibold", "text-gray-800"), t.classList.add("text-gray-400");
        const ic = i.querySelector(".icon");
        if (ic) ic.classList.remove("text-gray-800"), ic.classList.add("text-gray-400");
      });

      item.classList.add("bg-gray-100");
      item.setAttribute("aria-selected", "true");
      const desc = item.querySelector(".desc");
      if (desc) desc.classList.remove("hidden");
      const title = item.querySelector(".title");
      if (title) title.classList.add("font-semibold", "text-gray-800"), title.classList.remove("text-gray-400");
      const icon = item.querySelector(".icon");
      if (icon) icon.classList.add("text-gray-800"), icon.classList.remove("text-gray-400");

      const newSrc = item.dataset.image;
      if (!newSrc) return;
      featureImg.classList.add("opacity-0");
      setTimeout(() => {
        featureImg.src = newSrc;
        featureImg.classList.remove("opacity-0");
      }, 150);
    }

    featureItems.forEach((item) => {
      item.addEventListener("click", () => activateFeature(item));
      item.addEventListener("keydown", (e) => {
        if (e.key === "Enter" || e.key === " ") {
          e.preventDefault();
          activateFeature(item);
        }
      });
    });

    const initiallyActiveFeature = document.querySelector('.feature-item[aria-selected="true"]') || featureItems[0];
    if (initiallyActiveFeature) activateFeature(initiallyActiveFeature);
  </script>

  <script>
    // --- TRANSLATIONS OBJECT ---
    const translations = {
      // Navigation
      nav_features: { en: "Features", id: "Fitur" },
      nav_faq: { en: "FAQ", id: "Tanya Jawab" },
      nav_contact: { en: "Contact", id: "Kontak" },
      nav_features_mob: { en: "Features", id: "Fitur" },
      nav_faq_mob: { en: "FAQ", id: "Tanya Jawab" },
      nav_contact_mob: { en: "Contact", id: "Kontak" },
      login_button: { en: "Login", id: "Masuk" },
      login_button_mob: { en: "Login", id: "Masuk" },

      // Hero
      hero_badge: { en: "AI Powered", id: "Ditenagai AI" },
      hero_title_part1: { en: "AI-powered expense tracking\nfor", id: "Pencatatan keuangan berbasis AI\nuntuk" },
      hero_title_part2: { en: "", id: "" },
      hero_typing_words: { en: ["Modern Muslims", "Your Family", "Smart Budgeting"], id: ["Muslim Modern", "Keluarga Anda", "Penganggaran Cerdas"] },
      hero_subtitle: { en: "Track your daily expenses with AI, get Islamic finance guidance, and manage family budgets all in one app. Log transactions via WhatsApp or directly in the app.", id: "Lacak pengeluaran harian Anda dengan AI, dapatkan panduan keuangan Islami, dan kelola anggaran keluarga dalam satu aplikasi. Catat transaksi via WhatsApp atau langsung di aplikasi." },
      hero_cta: { en: "Get Started", id: "Mulai Sekarang" },

      // Features
      features_badge: { en: "Features", id: "Fitur" },
      features_title_part1: { en: "Everything you need <br /> to manage your", id: "Semua yang Anda butuhkan <br /> untuk mengelola" },
      features_typing_words: { en: ["Expenses", "Budget", "Savings"], id: ["Pengeluaran", "Anggaran", "Tabungan"] },
      features_subtitle: { en: "From AI-powered tracking to Islamic finance guidance, every feature is built to help you manage your finances wisely.", id: "Dari pencatatan berbasis AI hingga panduan keuangan Islami, setiap fitur dibuat untuk membantu Anda mengelola keuangan dengan bijak." },

      // Feature items
      feature_ai_title: { en: "AI Expense Tracking", id: "Pencatatan AI" },
      feature_ai_desc: { en: "Let AI categorize and analyze your transactions. Scan receipts, auto-categorize expenses, and get smart spending insights.", id: "Biarkan AI mengkategorikan dan menganalisis transaksi Anda. Pindai struk, kategorisasi otomatis, dan dapatkan wawasan pengeluaran cerdas." },
      feature_islamic_title: { en: "Islamic Finance Guidance", id: "Panduan Keuangan Islami" },
      feature_islamic_desc: { en: "Receive Shariah-compliant financial recommendations to help your spending align with Islamic principles.", id: "Terima rekomendasi keuangan sesuai Syariah untuk membantu pengeluaran Anda selaras dengan prinsip Islam." },
      feature_whatsapp_title: { en: "WhatsApp Integration", id: "Integrasi WhatsApp" },
      feature_whatsapp_desc: { en: "Log transactions by simply sending a message to your WhatsApp group. Quick, easy, and accessible.", id: "Catat transaksi dengan mengirim pesan ke grup WhatsApp Anda. Cepat, mudah, dan praktis." },
      feature_group_title: { en: "Group & Family Tracking", id: "Pencatatan Grup & Keluarga" },
      feature_group_desc: { en: "Collaborate with family members to track household expenses. Everyone stays informed with shared spending reports.", id: "Berkolaborasi dengan anggota keluarga untuk melacak pengeluaran rumah tangga. Semua orang terinformasi dengan laporan pengeluaran bersama." },

      // FAQ
      faq_badge: { en: "FAQ", id: "Tanya Jawab" },
      faq_title: { en: "Frequently Asked Questions", id: "Pertanyaan yang Sering Diajukan" },
      faq_subtitle: { en: "Quick answers to help you get started with Safina.", id: "Jawaban cepat untuk membantu Anda memulai dengan Safina." },
      faq_q1: { en: "How does AI expense tracking work?", id: "Bagaimana cara kerja pencatatan pengeluaran AI?" },
      faq_a1: { en: "Our AI automatically categorizes your transactions, scans receipts, and provides spending insights. Just log your expenses via the app or WhatsApp, and the AI handles the rest.", id: "AI kami secara otomatis mengkategorikan transaksi Anda, memindai struk, dan memberikan wawasan pengeluaran. Cukup catat pengeluaran via aplikasi atau WhatsApp, dan AI akan menangani sisanya." },
      faq_q2: { en: "What is Islamic finance guidance?", id: "Apa itu panduan keuangan Islami?" },
      faq_a2: { en: "Safina provides Shariah-compliant recommendations for your expenses, helping you make financial decisions that align with Islamic principles.", id: "Safina menyediakan rekomendasi sesuai Syariah untuk pengeluaran Anda, membantu Anda membuat keputusan keuangan yang selaras dengan prinsip Islam." },
      faq_q3: { en: "How does WhatsApp integration work?", id: "Bagaimana cara kerja integrasi WhatsApp?" },
      faq_a3: { en: "You can log transactions by sending messages to your connected WhatsApp group. Simply type your expense, and Safina's AI will parse and record it automatically.", id: "Anda dapat mencatat transaksi dengan mengirim pesan ke grup WhatsApp yang terhubung. Cukup ketik pengeluaran Anda, dan AI Safina akan mengurai dan mencatatnya secara otomatis." },
      faq_q4: { en: "Can I track expenses with my family?", id: "Bisakah saya melacak pengeluaran bersama keluarga?" },
      faq_a4: { en: "Yes! Create a shared group to track household expenses together. Family members can log transactions and view shared spending reports.", id: "Ya! Buat grup bersama untuk melacak pengeluaran rumah tangga bersama. Anggota keluarga dapat mencatat transaksi dan melihat laporan pengeluaran bersama." },
      faq_q5: { en: "Is my financial data secure?", id: "Apakah data keuangan saya aman?" },
      faq_a5: { en: "Absolutely. All your data is stored securely. Only you and authorized family members can access your information.", id: "Tentu saja. Semua data Anda disimpan dengan aman. Hanya Anda dan anggota keluarga yang berwenang yang dapat mengakses informasi Anda." },
      faq_q6: { en: "What languages does Safina support?", id: "Bahasa apa saja yang didukung Safina?" },
      faq_a6: { en: "Currently Safina only supports Bahasa Indonesia.", id: "Saat ini Safina hanya mendukung Bahasa Indonesia." },

      // Footer
      footer_copyright: { en: "© 2025 <a href='/' class='underline'>safinalab.id</a> All Rights Reserved", id: "© 2025 <a href='/' class='underline'>safinalab.id</a> Hak Cipta Dilindungi" },
    };

    // --- Reusable Typing Animator Class ---
    class TypingAnimator {
      constructor(elementId) {
        this.element = document.getElementById(elementId);
        this.words = [];
        this.wordIndex = 0;
        this.charIndex = 0;
        this.isDeleting = false;
        this.timeout = null;
      }

      type() {
        if (!this.words || this.words.length === 0 || !this.element) return;

        const currentWord = this.words[this.wordIndex];
        const displayedText = this.isDeleting
          ? currentWord.substring(0, this.charIndex - 1)
          : currentWord.substring(0, this.charIndex + 1);

        this.element.textContent = displayedText;
        this.charIndex = this.isDeleting ? this.charIndex - 1 : this.charIndex + 1;

        let delay = this.isDeleting ? 100 : 200;

        if (!this.isDeleting && this.charIndex === currentWord.length) {
          delay = 2000;
          this.isDeleting = true;
        } else if (this.isDeleting && this.charIndex === 0) {
          this.isDeleting = false;
          this.wordIndex = (this.wordIndex + 1) % this.words.length;
          delay = 500;
        }

        this.timeout = setTimeout(() => this.type(), delay);
      }

      start(words) {
        this.stop();
        this.words = words;
        this.wordIndex = 0;
        this.charIndex = 0;
        this.isDeleting = false;
        this.type();
      }

      stop() {
        clearTimeout(this.timeout);
        if (this.element) {
          this.element.textContent = "";
        }
      }
    }

    // --- Main Application Logic ---
    const langSwitcher = document.getElementById("lang-switcher");
    const langBtn = document.getElementById("lang-btn");
    const langMenu = document.getElementById("lang-menu");
    const langText = document.getElementById("lang-text");

    // Create instances of the animator for each element
    const heroAnimator = new TypingAnimator('typing-effect');
    const featuresAnimator = new TypingAnimator('typing-effect-features');

    langBtn.addEventListener("click", () => {
      langMenu.classList.toggle("hidden");
    });

    document.addEventListener("click", (event) => {
      if (!langSwitcher.contains(event.target)) {
        langMenu.classList.add("hidden");
      }
    });

    const setLanguage = (lang) => {
      document.querySelectorAll("[data-translate-key]").forEach(el => {
        const key = el.getAttribute("data-translate-key");
        if (translations[key] && translations[key][lang] !== undefined) {
          // Convert newlines to <br> tags
          const text = translations[key][lang].replace(/\n/g, '<br>');
          el.innerHTML = text;
        }
      });

      langText.textContent = lang.toUpperCase();
      localStorage.setItem("language", lang);
      langMenu.classList.add("hidden");

      // Start both animations with the correct language words
      heroAnimator.start(translations.hero_typing_words[lang]);
      featuresAnimator.start(translations.features_typing_words[lang]);
    };

    langMenu.addEventListener("click", (e) => {
      e.preventDefault();
      const selectedLang = e.target.getAttribute("data-lang");
      if (selectedLang) {
        setLanguage(selectedLang);
      }
    });

    const savedLang = localStorage.getItem("language") || "id";
    setLanguage(savedLang);
  </script>

  <script src="https://unpkg.com/lucide@latest"></script>
  <script>
    lucide.createIcons();
  </script>
</body>

</html>
